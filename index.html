<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Forca</title>
</head>
<body>
    <!-- <div>
        <span id="vidas-span">Número de vidas: 5</span>
        <div>

        </div>
    </div> -->



    <script>
        const listaPalavras = ["abacaxi", "abacate", "maracuja", "mamao", "laranja", "tangerina", "graviola"];

        // Definição da palavra a ser utilizada na forca
        function getRandomWord(min, max){
            return Math.floor(Math.random()*(max - min + 1) + min);
        }

        

        const currentWord = getRandomWord(0, listaPalavras.length - 1);
        // Impressao do número de letras para o usuário
        console.log(`A palavra atual possui um total de ${listaPalavras[currentWord].length} letras`)
        let vidas = 5;
        let contador = 0; // Verifica o numero de letras que foram "acertadas"
        let letrasUsadas = [];
        const regex = /[a-zA-Z]{1}/;
        // Início do for de verificação das letras para
        while (vidas >=1 ){
            let cont = 0;
            let currentLetter = prompt("Qual letra acha está inserida na palavra?");
            //  Verifica se o valor inserido não é um número
            while(currentLetter === null || currentLetter.match(regex) === null){
                currentLetter = prompt(`Qual letra acha está inserida na palavra? A entrada ${currentLetter} não é permitida!`);
            }
            
            // Verifica se alguma letra já foi utlizada anteriormente'
            if(letrasUsadas.length > 0){
                let state= true;
                while(state){
                    for(let index in letrasUsadas){
                        if(currentLetter === letrasUsadas[index]){
                            state = false;
                        }
                    }
                    if(!state){
                        currentLetter = prompt("Insira novamente uma letra");
                        state=true;
                    } else {
                        break;
                    }
                }
            }


            console.time("Forca");
            for(let index in listaPalavras[currentWord]){
                if(currentLetter === listaPalavras[currentWord][index]){
                    contador = contador + 1;
                    cont = cont + 1;
                    console.log(`A letra ${currentLetter} está na posicao ${index}. Parabéns!!!`);
                }
            }
            if(cont === 0){
                vidas = vidas - 1;
                console.log(`Infelizmente a letra ${currentLetter} não está presente na palavra atual. Sua quantidade de vidas é: ${vidas}`)
            }

            letrasUsadas.push(currentLetter); // Adiciona a letra no vetor de letras usadas
            console.log(`As letras utilizadas até o momento foram: ${letrasUsadas}`)

            // Verifica se o número de acertos de letras é igual ao tamanho da palavra atual
            if (contador === listaPalavras[currentWord].length){
                console.log(`Parabéns!!! Você acertou a palavra ${listaPalavras[currentWord]}`);
                break;
            }
            console.timeEnd("Forca");
        }

    </script>
</body>
</html>